{
    "address": "FaJ4XGCLeu7eZiMjBEkANko3TRhpjns3cv6R1vZK94Wt",
    "metadata": {
        "name": "credential_program",
        "version": "0.1.0",
        "spec": "0.1.0",
        "description": "Hub Credential Protocol - On-chain KYC/Verifiable Credentials for Real Estate Tokenization"
    },
    "docs": [
        "Hub Credential Protocol",
        "",
        "A decentralized KYC/Verifiable Credentials system for Real Estate Tokenization.",
        "Designed to replace Civic Pass with a self-hosted, compliant solution.",
        "",
        "Features:",
        "- On-chain credential storage and verification",
        "- Multiple credential types (KYC, Accredited Investor, etc.)",
        "- Issuer authorization system",
        "- Credential revocation",
        "- Integration with Transfer Hooks"
    ],
    "instructions": [
        {
            "name": "initialize_network",
            "docs": [
                "Initialize the credential network configuration",
                "Only called once by the protocol admin"
            ],
            "discriminator": [
                75,
                50,
                251,
                50,
                0,
                159,
                20,
                5
            ],
            "accounts": [
                {
                    "name": "admin",
                    "writable": true,
                    "signer": true
                },
                {
                    "name": "network",
                    "writable": true,
                    "pda": {
                        "seeds": [
                            {
                                "kind": "const",
                                "value": [
                                    99,
                                    114,
                                    101,
                                    100,
                                    101,
                                    110,
                                    116,
                                    105,
                                    97,
                                    108,
                                    95,
                                    110,
                                    101,
                                    116,
                                    119,
                                    111,
                                    114,
                                    107
                                ]
                            }
                        ]
                    }
                },
                {
                    "name": "system_program",
                    "address": "11111111111111111111111111111111"
                }
            ],
            "args": [
                {
                    "name": "network_name",
                    "type": "string"
                },
                {
                    "name": "credential_fee_lamports",
                    "type": "u64"
                }
            ]
        },
        {
            "name": "issue_credential",
            "docs": [
                "Issue a credential to a wallet",
                "Called by authorized issuers after off-chain KYC verification"
            ],
            "discriminator": [
                255,
                193,
                171,
                224,
                68,
                171,
                194,
                87
            ],
            "accounts": [
                {
                    "name": "issuer_authority",
                    "writable": true,
                    "signer": true
                },
                {
                    "name": "network",
                    "writable": true,
                    "pda": {
                        "seeds": [
                            {
                                "kind": "const",
                                "value": [
                                    99,
                                    114,
                                    101,
                                    100,
                                    101,
                                    110,
                                    116,
                                    105,
                                    97,
                                    108,
                                    95,
                                    110,
                                    101,
                                    116,
                                    119,
                                    111,
                                    114,
                                    107
                                ]
                            }
                        ]
                    }
                },
                {
                    "name": "issuer",
                    "writable": true,
                    "pda": {
                        "seeds": [
                            {
                                "kind": "const",
                                "value": [
                                    105,
                                    115,
                                    115,
                                    117,
                                    101,
                                    114
                                ]
                            },
                            {
                                "kind": "account",
                                "path": "issuer_authority"
                            }
                        ]
                    }
                },
                {
                    "name": "holder",
                    "docs": [
                        "The wallet receiving the credential"
                    ]
                },
                {
                    "name": "credential",
                    "writable": true,
                    "pda": {
                        "seeds": [
                            {
                                "kind": "const",
                                "value": [
                                    99,
                                    114,
                                    101,
                                    100,
                                    101,
                                    110,
                                    116,
                                    105,
                                    97,
                                    108
                                ]
                            },
                            {
                                "kind": "account",
                                "path": "holder"
                            }
                        ]
                    }
                },
                {
                    "name": "system_program",
                    "address": "11111111111111111111111111111111"
                }
            ],
            "args": [
                {
                    "name": "credential_type",
                    "type": "u8"
                },
                {
                    "name": "expiry_timestamp",
                    "type": "i64"
                },
                {
                    "name": "metadata_uri",
                    "type": "string"
                }
            ]
        },
        {
            "name": "refresh_credential",
            "docs": [
                "Refresh/renew a credential",
                "Extends expiry without full re-verification"
            ],
            "discriminator": [
                178,
                92,
                41,
                191,
                135,
                68,
                149,
                9
            ],
            "accounts": [
                {
                    "name": "issuer_authority",
                    "writable": true,
                    "signer": true
                },
                {
                    "name": "issuer",
                    "pda": {
                        "seeds": [
                            {
                                "kind": "const",
                                "value": [
                                    105,
                                    115,
                                    115,
                                    117,
                                    101,
                                    114
                                ]
                            },
                            {
                                "kind": "account",
                                "path": "issuer_authority"
                            }
                        ]
                    }
                },
                {
                    "name": "holder",
                    "docs": [
                        "The wallet whose credential is being refreshed"
                    ]
                },
                {
                    "name": "credential",
                    "writable": true,
                    "pda": {
                        "seeds": [
                            {
                                "kind": "const",
                                "value": [
                                    99,
                                    114,
                                    101,
                                    100,
                                    101,
                                    110,
                                    116,
                                    105,
                                    97,
                                    108
                                ]
                            },
                            {
                                "kind": "account",
                                "path": "holder"
                            }
                        ]
                    }
                }
            ],
            "args": [
                {
                    "name": "new_expiry_timestamp",
                    "type": "i64"
                }
            ]
        },
        {
            "name": "register_issuer",
            "docs": [
                "Register a new credential issuer",
                "Issuers can issue credentials to users after KYC verification"
            ],
            "discriminator": [
                145,
                117,
                52,
                59,
                189,
                27,
                127,
                18
            ],
            "accounts": [
                {
                    "name": "admin",
                    "writable": true,
                    "signer": true
                },
                {
                    "name": "network",
                    "writable": true,
                    "pda": {
                        "seeds": [
                            {
                                "kind": "const",
                                "value": [
                                    99,
                                    114,
                                    101,
                                    100,
                                    101,
                                    110,
                                    116,
                                    105,
                                    97,
                                    108,
                                    95,
                                    110,
                                    101,
                                    116,
                                    119,
                                    111,
                                    114,
                                    107
                                ]
                            }
                        ]
                    }
                },
                {
                    "name": "issuer_authority",
                    "docs": [
                        "The authority that will control the issuer"
                    ]
                },
                {
                    "name": "issuer",
                    "writable": true,
                    "pda": {
                        "seeds": [
                            {
                                "kind": "const",
                                "value": [
                                    105,
                                    115,
                                    115,
                                    117,
                                    101,
                                    114
                                ]
                            },
                            {
                                "kind": "account",
                                "path": "issuer_authority"
                            }
                        ]
                    }
                },
                {
                    "name": "system_program",
                    "address": "11111111111111111111111111111111"
                }
            ],
            "args": [
                {
                    "name": "issuer_name",
                    "type": "string"
                },
                {
                    "name": "issuer_uri",
                    "type": "string"
                }
            ]
        },
        {
            "name": "revoke_credential",
            "docs": [
                "Revoke a credential",
                "Can be called by issuer or network admin"
            ],
            "discriminator": [
                38,
                123,
                95,
                95,
                223,
                158,
                169,
                87
            ],
            "accounts": [
                {
                    "name": "authority",
                    "writable": true,
                    "signer": true
                },
                {
                    "name": "network",
                    "writable": true,
                    "pda": {
                        "seeds": [
                            {
                                "kind": "const",
                                "value": [
                                    99,
                                    114,
                                    101,
                                    100,
                                    101,
                                    110,
                                    116,
                                    105,
                                    97,
                                    108,
                                    95,
                                    110,
                                    101,
                                    116,
                                    119,
                                    111,
                                    114,
                                    107
                                ]
                            }
                        ]
                    }
                },
                {
                    "name": "issuer",
                    "writable": true,
                    "pda": {
                        "seeds": [
                            {
                                "kind": "const",
                                "value": [
                                    105,
                                    115,
                                    115,
                                    117,
                                    101,
                                    114
                                ]
                            },
                            {
                                "kind": "account",
                                "path": "authority"
                            }
                        ]
                    }
                },
                {
                    "name": "holder",
                    "docs": [
                        "The wallet whose credential is being revoked"
                    ]
                },
                {
                    "name": "credential",
                    "writable": true,
                    "pda": {
                        "seeds": [
                            {
                                "kind": "const",
                                "value": [
                                    99,
                                    114,
                                    101,
                                    100,
                                    101,
                                    110,
                                    116,
                                    105,
                                    97,
                                    108
                                ]
                            },
                            {
                                "kind": "account",
                                "path": "holder"
                            }
                        ]
                    }
                }
            ],
            "args": [
                {
                    "name": "reason",
                    "type": "string"
                }
            ]
        },
        {
            "name": "verify_credential",
            "docs": [
                "Verify a credential on-chain",
                "Returns the credential status for Transfer Hook integration"
            ],
            "discriminator": [
                139,
                189,
                60,
                127,
                32,
                241,
                162,
                134
            ],
            "accounts": [
                {
                    "name": "holder",
                    "docs": [
                        "The wallet whose credential is being verified"
                    ]
                },
                {
                    "name": "credential",
                    "pda": {
                        "seeds": [
                            {
                                "kind": "const",
                                "value": [
                                    99,
                                    114,
                                    101,
                                    100,
                                    101,
                                    110,
                                    116,
                                    105,
                                    97,
                                    108
                                ]
                            },
                            {
                                "kind": "account",
                                "path": "holder"
                            }
                        ]
                    }
                }
            ],
            "args": []
        }
    ],
    "accounts": [
        {
            "name": "CredentialIssuer",
            "discriminator": [
                16,
                249,
                215,
                21,
                210,
                77,
                230,
                142
            ]
        },
        {
            "name": "CredentialNetwork",
            "discriminator": [
                206,
                4,
                89,
                211,
                48,
                169,
                178,
                54
            ]
        },
        {
            "name": "UserCredential",
            "discriminator": [
                209,
                222,
                133,
                185,
                15,
                122,
                136,
                44
            ]
        }
    ],
    "errors": [
        {
            "code": 6000,
            "name": "NetworkNotActive",
            "msg": "Network is not active"
        },
        {
            "code": 6001,
            "name": "IssuerNotAuthorized",
            "msg": "Issuer is not authorized"
        },
        {
            "code": 6002,
            "name": "IssuerNotActive",
            "msg": "Issuer is not active"
        },
        {
            "code": 6003,
            "name": "CredentialAlreadyExists",
            "msg": "Credential already exists for this holder"
        },
        {
            "code": 6004,
            "name": "CredentialNotFound",
            "msg": "Credential not found"
        },
        {
            "code": 6005,
            "name": "CredentialNotActive",
            "msg": "Credential is not active"
        },
        {
            "code": 6006,
            "name": "CredentialExpired",
            "msg": "Credential has expired"
        },
        {
            "code": 6007,
            "name": "CredentialRevoked",
            "msg": "Credential has been revoked"
        },
        {
            "code": 6008,
            "name": "InvalidCredentialType",
            "msg": "Invalid credential type"
        },
        {
            "code": 6009,
            "name": "InvalidExpiry",
            "msg": "Invalid expiry timestamp"
        },
        {
            "code": 6010,
            "name": "UnauthorizedAdmin",
            "msg": "Unauthorized - only admin can perform this action"
        },
        {
            "code": 6011,
            "name": "UnauthorizedIssuer",
            "msg": "Unauthorized - only issuer can perform this action"
        },
        {
            "code": 6012,
            "name": "NameTooLong",
            "msg": "Name too long"
        },
        {
            "code": 6013,
            "name": "UriTooLong",
            "msg": "URI too long"
        },
        {
            "code": 6014,
            "name": "ReasonTooLong",
            "msg": "Reason too long"
        }
    ],
    "types": [
        {
            "name": "CredentialIssuer",
            "docs": [
                "Credential Issuer account",
                "Represents an authorized entity that can issue credentials"
            ],
            "type": {
                "kind": "struct",
                "fields": [
                    {
                        "name": "authority",
                        "docs": [
                            "Issuer authority (wallet that controls this issuer)"
                        ],
                        "type": "pubkey"
                    },
                    {
                        "name": "name",
                        "docs": [
                            "Issuer name (e.g., \"Hub KYC Provider\")"
                        ],
                        "type": "string"
                    },
                    {
                        "name": "uri",
                        "docs": [
                            "Issuer website/info URI"
                        ],
                        "type": "string"
                    },
                    {
                        "name": "credentials_issued",
                        "docs": [
                            "Total credentials issued by this issuer"
                        ],
                        "type": "u64"
                    },
                    {
                        "name": "active_credentials",
                        "docs": [
                            "Total active credentials"
                        ],
                        "type": "u64"
                    },
                    {
                        "name": "revoked_credentials",
                        "docs": [
                            "Total revoked credentials"
                        ],
                        "type": "u64"
                    },
                    {
                        "name": "is_active",
                        "docs": [
                            "Is this issuer active/authorized"
                        ],
                        "type": "bool"
                    },
                    {
                        "name": "can_issue_kyc",
                        "docs": [
                            "Can issue KYC credentials"
                        ],
                        "type": "bool"
                    },
                    {
                        "name": "can_issue_accredited",
                        "docs": [
                            "Can issue Accredited Investor credentials"
                        ],
                        "type": "bool"
                    },
                    {
                        "name": "registered_at",
                        "docs": [
                            "Registration timestamp"
                        ],
                        "type": "i64"
                    },
                    {
                        "name": "bump",
                        "docs": [
                            "Bump for PDA derivation"
                        ],
                        "type": "u8"
                    }
                ]
            }
        },
        {
            "name": "CredentialNetwork",
            "docs": [
                "Network configuration account",
                "Stores global settings for the credential network"
            ],
            "type": {
                "kind": "struct",
                "fields": [
                    {
                        "name": "admin",
                        "docs": [
                            "Network admin authority"
                        ],
                        "type": "pubkey"
                    },
                    {
                        "name": "name",
                        "docs": [
                            "Network name (e.g., \"Hub Credential Network\")"
                        ],
                        "type": "string"
                    },
                    {
                        "name": "credential_fee_lamports",
                        "docs": [
                            "Fee for issuing credentials (in lamports)"
                        ],
                        "type": "u64"
                    },
                    {
                        "name": "total_credentials_issued",
                        "docs": [
                            "Total credentials issued"
                        ],
                        "type": "u64"
                    },
                    {
                        "name": "active_credentials",
                        "docs": [
                            "Total active credentials"
                        ],
                        "type": "u64"
                    },
                    {
                        "name": "total_issuers",
                        "docs": [
                            "Total registered issuers"
                        ],
                        "type": "u64"
                    },
                    {
                        "name": "is_active",
                        "docs": [
                            "Network status"
                        ],
                        "type": "bool"
                    },
                    {
                        "name": "created_at",
                        "docs": [
                            "Created timestamp"
                        ],
                        "type": "i64"
                    },
                    {
                        "name": "bump",
                        "docs": [
                            "Bump for PDA derivation"
                        ],
                        "type": "u8"
                    }
                ]
            }
        },
        {
            "name": "CredentialStatus",
            "docs": [
                "Credential Status"
            ],
            "type": {
                "kind": "enum",
                "variants": [
                    {
                        "name": "Active"
                    },
                    {
                        "name": "Expired"
                    },
                    {
                        "name": "Revoked"
                    },
                    {
                        "name": "Suspended"
                    }
                ]
            }
        },
        {
            "name": "CredentialType",
            "docs": [
                "Credential Types for Real Estate Tokenization"
            ],
            "type": {
                "kind": "enum",
                "variants": [
                    {
                        "name": "KycBasic"
                    },
                    {
                        "name": "KycFull"
                    },
                    {
                        "name": "AccreditedInvestor"
                    },
                    {
                        "name": "QualifiedPurchaser"
                    },
                    {
                        "name": "BrazilianCpf"
                    },
                    {
                        "name": "BrazilianCnpj"
                    }
                ]
            }
        },
        {
            "name": "UserCredential",
            "docs": [
                "User Credential Account",
                "Stores the on-chain credential for a wallet",
                "This is what the Transfer Hook checks"
            ],
            "type": {
                "kind": "struct",
                "fields": [
                    {
                        "name": "holder",
                        "docs": [
                            "The wallet this credential belongs to"
                        ],
                        "type": "pubkey"
                    },
                    {
                        "name": "issuer",
                        "docs": [
                            "The issuer who issued this credential"
                        ],
                        "type": "pubkey"
                    },
                    {
                        "name": "credential_type",
                        "docs": [
                            "Type of credential"
                        ],
                        "type": {
                            "defined": {
                                "name": "CredentialType"
                            }
                        }
                    },
                    {
                        "name": "status",
                        "docs": [
                            "Current status"
                        ],
                        "type": {
                            "defined": {
                                "name": "CredentialStatus"
                            }
                        }
                    },
                    {
                        "name": "issued_at",
                        "docs": [
                            "When the credential was issued"
                        ],
                        "type": "i64"
                    },
                    {
                        "name": "expires_at",
                        "docs": [
                            "When the credential expires (0 = never)"
                        ],
                        "type": "i64"
                    },
                    {
                        "name": "last_verified_at",
                        "docs": [
                            "When the credential was last verified/refreshed"
                        ],
                        "type": "i64"
                    },
                    {
                        "name": "metadata_uri",
                        "docs": [
                            "URI to off-chain metadata (encrypted PII hash, etc.)"
                        ],
                        "type": "string"
                    },
                    {
                        "name": "revocation_reason",
                        "docs": [
                            "Revocation reason (if revoked)"
                        ],
                        "type": "string"
                    },
                    {
                        "name": "version",
                        "docs": [
                            "Credential version (for upgrades)"
                        ],
                        "type": "u8"
                    },
                    {
                        "name": "bump",
                        "docs": [
                            "Bump for PDA derivation"
                        ],
                        "type": "u8"
                    }
                ]
            }
        }
    ]
}
